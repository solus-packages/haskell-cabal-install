name       : haskell-cabal-install
version    : 1.24.0.0
release    : 3
source     :
    - https://github.com/haskell/cabal/archive/Cabal-v1.24.0.0.tar.gz : f0c9ee7063ce896f31067c711e6a13a210df6b217999812b365f6f0e15b55a10
license    : BSD-3-Clause
component  : programming.haskell
summary    : cabal-install is a library management tool for the Haskell Language
description: |
    cabal-install is a library management tool for the Haskell Language
builddeps  :
    - ghc-devel
    - haskell-async-devel
    - haskell-base16-bytestring-devel
    - haskell-base64-bytestring-devel
    - haskell-cabal-install
    - haskell-cryptohash-sha256-devel
    - haskell-ed25519-devel
    - haskell-hackage-security-devel
    - haskell-hashable-devel
    - haskell-HTTP-devel
    - haskell-mtl-devel
    - haskell-network-devel
    - haskell-network-uri-devel
    - haskell-parsec-devel
    - haskell-random-devel
    - haskell-stm-devel
    - haskell-tar-devel
    - haskell-text-devel
    - haskell-zlib-devel
setup      : |
    cd cabal-install
    export GHCV=$(ghc --numeric-version)
    mkdir -p ~/.ghc/%ARCH%-linux-$GHCV/package.conf.d
    cp /usr/lib%LIBSUFFIX%/ghc-$GHCV/package.conf.d/* ~/.ghc/%ARCH%-linux-$GHCV/package.conf.d
    ghc-pkg recache --user
    cabal configure --prefix=%PREFIX% \
                    --libdir=%libdir% \
                    --libsubdir="\$compiler/\$pkgid" \
                    --sysconfdir=/etc \
                    --enable-shared
build      : |
    cd cabal-install
    %cabal_build
install    : |
    cd cabal-install
    %cabal_install
