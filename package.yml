name       : haskell-cabal-install
version    : 2.0.0.1
release    : 4
source     :
    - http://hackage.haskell.org/package/cabal-install-2.0.0.1/cabal-install-2.0.0.1.tar.gz : f991e36f3adaa1c7e2f0c422a2f2a4ab21b7041c82a8896f72afc9843a0d5d99
license    : BSD-3-Clause
component  : programming.haskell
summary    : cabal-install is a library management tool for the Haskell Language
description: |
    cabal-install is a library management tool for the Haskell Language
builddeps  :
    - ghc-devel
    - haskell-async-devel
    - haskell-base16-bytestring-devel
    - haskell-base64-bytestring-devel
    - haskell-cabal-install
    - haskell-cryptohash-sha256-devel
    - haskell-echo-devel
    - haskell-ed25519-devel
    - haskell-edit-distance-devel
    - haskell-hackage-security-devel
    - haskell-hashable-devel
    - haskell-HTTP-devel
    - haskell-mtl-devel
    - haskell-network-devel
    - haskell-network-uri-devel
    - haskell-parsec-devel
    - haskell-random-devel
    - haskell-resolv-devel
    - haskell-stm-devel
    - haskell-tar-devel
    - haskell-text-devel
    - haskell-zlib-devel
setup      : |
    export GHCV=$(ghc --numeric-version)
    mkdir -p ~/.ghc/%ARCH%-linux-$GHCV/package.conf.d
    cp /usr/lib%LIBSUFFIX%/ghc-$GHCV/package.conf.d/* ~/.ghc/%ARCH%-linux-$GHCV/package.conf.d
    ghc-pkg recache --user

    sed -i "s|< 2.7|< 2.8|g" cabal-install.cabal
    cabal configure --prefix=%PREFIX% \
                    --libdir=%libdir% \
                    --libsubdir="\$compiler/\$pkgid" \
                    --sysconfdir=/etc \
                    --enable-shared
build      : |
    %cabal_build
install    : |
    %cabal_install
